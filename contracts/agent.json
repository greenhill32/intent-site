{
  "$schema": "https://intentql.dev/schema/contract-v1.json",
  "contractVersion": "1.0",
  "contractDate": "2026-01-02",
  "contractStatus": "locked",
  "contractLockedUntil": "2026-02-02",
  "lockedReason": "IntentQL 4-week agent compliance study (Jan 2-31, 2026). No amendments until Feb 2.",
  "metadata": {
    "name": "IntentQL WooCommerce Demo Store",
    "description": "WooCommerce store with machine-readable intent contract for AI agent discovery and compliance testing",
    "site": "https://ecom-greenhill3222-zvwqy.wpcomstaging.com",
    "platform": "woocommerce",
    "contact": "contact@intentql.dev",
    "testingStudy": {
      "period": "2026-01-02 to 2026-01-31",
      "agents": ["claude", "chatgpt", "gemini", "perplexity", "grok"],
      "rounds": 3
    }
  },
  "discovery": {
    "primary": "https://github.com/[your-repo]/contracts/agent.json",
    "alternate": "https://intentql.dev/agent.json",
    "documentation": "https://intentql.dev/docs"
  },
  "capabilities": {
    "read": true,
    "search": true,
    "write": false,
    "commerce": true,
    "authentication": false,
    "personalisation": false,
    "recommendations": false
  },
  "gateway": {
    "base_url": "https://intent-site.vercel.app/api/proxy",
    "method": "GET",
    "authentication": "none",
    "description": "Vercel proxy gateway to WooCommerce REST API"
  },
  "intents": [
    {
      "id": "list_products",
      "name": "List All Products",
      "description": "Retrieve a list of all available products",
      "category": "catalog",
      "enabled": true,
      "method": "GET",
      "endpoint": "https://intent-site.vercel.app/api/proxy",
      "timeout": 5000,
      "rateLimit": 10,
      "parameters": [
        {
          "name": "endpoint",
          "type": "string",
          "required": true,
          "description": "WooCommerce REST API endpoint",
          "default": "/wp-json/wc/v3/products",
          "example": "/wp-json/wc/v3/products"
        },
        {
          "name": "per_page",
          "type": "number",
          "required": false,
          "description": "Number of products per page (max 100)",
          "default": 10,
          "min": 1,
          "max": 100,
          "example": 10
        },
        {
          "name": "page",
          "type": "number",
          "required": false,
          "description": "Page number for pagination",
          "default": 1,
          "example": 1
        },
        {
          "name": "orderby",
          "type": "string",
          "required": false,
          "description": "Order by field (date, title, id, popularity, rating)",
          "enum": ["date", "title", "id", "popularity", "rating"],
          "default": "date",
          "example": "date"
        },
        {
          "name": "order",
          "type": "string",
          "required": false,
          "description": "Order direction (asc or desc)",
          "enum": ["asc", "desc"],
          "default": "desc",
          "example": "desc"
        }
      ],
      "response": {
        "contentType": "application/json",
        "statusCode": 200,
        "schema": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "id": { "type": "number" },
              "name": { "type": "string" },
              "slug": { "type": "string" },
              "price": { "type": "string" },
              "regular_price": { "type": "string" },
              "sale_price": { "type": "string" },
              "currency": { "type": "string" },
              "description": { "type": "string" },
              "short_description": { "type": "string" }
            }
          }
        }
      },
      "examples": [
        {
          "name": "List first 10 products",
          "request": {
            "endpoint": "/wp-json/wc/v3/products",
            "per_page": 10,
            "page": 1
          },
          "response": {
            "statusCode": 200,
            "sample": [
              {
                "id": 58,
                "name": "Chequered Red Shirt",
                "slug": "chequered-red-shirt",
                "price": "50",
                "regular_price": "50",
                "sale_price": ""
              }
            ]
          }
        }
      ]
    },
    {
      "id": "get_product_detail",
      "name": "Get Product Details",
      "description": "Retrieve detailed information about a specific product",
      "category": "catalog",
      "enabled": true,
      "method": "GET",
      "endpoint": "https://intent-site.vercel.app/api/proxy",
      "timeout": 5000,
      "parameters": [
        {
          "name": "endpoint",
          "type": "string",
          "required": true,
          "description": "WooCommerce product endpoint with ID",
          "pattern": "/wp-json/wc/v3/products/[0-9]+",
          "example": "/wp-json/wc/v3/products/58"
        }
      ],
      "response": {
        "contentType": "application/json",
        "statusCode": 200
      },
      "examples": [
        {
          "name": "Get product with ID 58",
          "request": {
            "endpoint": "/wp-json/wc/v3/products/58"
          },
          "response": {
            "statusCode": 200,
            "sample": {
              "id": 58,
              "name": "Chequered Red Shirt",
              "slug": "chequered-red-shirt",
              "price": "50",
              "description": "Product description",
              "stock_quantity": 100
            }
          }
        }
      ]
    },
    {
      "id": "search_products",
      "name": "Search Products",
      "description": "Search products by name or keyword",
      "category": "search",
      "enabled": true,
      "method": "GET",
      "endpoint": "https://intent-site.vercel.app/api/proxy",
      "timeout": 5000,
      "parameters": [
        {
          "name": "endpoint",
          "type": "string",
          "required": true,
          "default": "/wp-json/wc/v3/products",
          "example": "/wp-json/wc/v3/products"
        },
        {
          "name": "search",
          "type": "string",
          "required": true,
          "description": "Search term (product name or keyword)",
          "example": "shirt"
        },
        {
          "name": "per_page",
          "type": "number",
          "required": false,
          "default": 10,
          "example": 10
        }
      ],
      "examples": [
        {
          "name": "Search for 'shirt'",
          "request": {
            "endpoint": "/wp-json/wc/v3/products",
            "search": "shirt",
            "per_page": 10
          }
        }
      ]
    }
  ],
  "constraints": {
    "operational": {
      "read_only_access": true,
      "no_checkout": true,
      "no_cart_modification": true,
      "no_account_creation": true,
      "no_order_placement": true,
      "no_personal_data_access": true,
      "no_payment_processing": true,
      "no_customer_data": true
    },
    "rateLimit": {
      "enabled": true,
      "maxRequestsPerMinute": 60,
      "maxRequestsPerHour": 3600,
      "burstSize": 10
    },
    "dataRetention": {
      "cacheable": true,
      "cacheTTLSeconds": 3600,
      "freshnessCritical": false
    }
  },
  "agentBehavior": {
    "assume_absence_is_authoritative": true,
    "do_not_infer_undocumented_intents": true,
    "do_not_guess_endpoints": true,
    "do_not_fallback_to_scraping": true,
    "do_not_fabricate_product_details": true,
    "do_not_post_process_with_ai": true,
    "respect_product_availability": true,
    "use_direct_product_urls": true,
    "provide_pricing_in_responses": true,
    "require_currency_with_prices": true,
    "report_not_guess": "If a capability is not declared, report it as unavailable rather than attempting to invent functionality"
  },
  "commerce": {
    "totalProducts": 25,
    "currency": "GBP",
    "priceRange": {
      "min": 0,
      "max": 100,
      "currency": "GBP"
    },
    "taxIncluded": true,
    "shippingInfo": {
      "available": false,
      "queryable": false
    },
    "supportedQueries": [
      "list_all_products",
      "get_product_by_id",
      "search_by_keyword",
      "filter_by_orderby",
      "paginate_results"
    ]
  },
  "validation": {
    "schemaVersion": "1.0",
    "enforceAllConstraints": true,
    "allowPartialResponses": false,
    "requireExactPricing": true,
    "requireAvailabilityStatus": true
  },
  "rules": [
    "If an intent is not explicitly declared, it is not supported.",
    "Agents MUST respect all operational constraints.",
    "Prices MUST always include currency.",
    "Product availability MUST be checked before recommendation.",
    "All requests MUST use only declared endpoints.",
    "Do not infer functionality from store UI or undocumented API patterns.",
    "Do not attempt cart, checkout, or order operations.",
    "Do not scrape HTML or DOM elements.",
    "Report missing capabilities rather than inventing them.",
    "Rate limits apply globally across all intents."
  ],
  "changelog": {
    "version": "1.0",
    "releaseDate": "2026-01-02",
    "lockedDate": "2026-01-02",
    "changes": [
      "Initial stable release for IntentQL 4-week compliance study",
      "WooCommerce REST API endpoints via Vercel proxy",
      "Three core intents: list_products, get_product_detail, search_products",
      "Strict operational constraints enforced"
    ],
    "breakingChanges": false,
    "nextReviewDate": "2026-02-02"
  }
}
