{
  "$schema": "https://intentql.dev/schema/contract-v1.json",
  "contractVersion": "1.0",
  "contractDate": "2026-01-02",
  "contractStatus": "locked",
  "contractLockedUntil": "2026-02-02",
  "lockedReason": "IntentQL Shopify agent compliance study. No amendments until Feb 2, 2026.",
  "metadata": {
    "name": "IntentQL Shopify Store Demo",
    "description": "Shopify store with machine-readable intent contract for AI agent discovery and compliance testing",
    "site": "https://7gpyuc-bt.myshopify.com",
    "platform": "shopify",
    "contact": "contact@intentql.dev",
    "testingStudy": {
      "period": "2026-01-02 onwards",
      "agents": ["claude", "chatgpt", "gemini", "perplexity", "grok"],
      "rounds": 3
    }
  },
  "discovery": {
    "primary": "https://github.com/[your-repo]/contracts/agent.json",
    "alternate": "https://intentql.dev/agent.json",
    "documentation": "https://intentql.dev/docs"
  },
  "capabilities": {
    "read": true,
    "search": true,
    "write": false,
    "commerce": true,
    "authentication": false,
    "personalisation": false,
    "recommendations": false
  },
  "gateway": {
    "base_url": "https://7gpyuc-bt.myshopify.com/api/2024-01/graphql.json",
    "method": "POST",
    "authentication": "X-Shopify-Storefront-Access-Token: 6300d614c13d7115645bbe180dfd7e91",
    "description": "Shopify Storefront API (GraphQL endpoint)"
  },
  "intents": [
    {
      "id": "list_products",
      "name": "List All Products",
      "description": "Retrieve a list of all available products with pagination",
      "category": "catalog",
      "enabled": true,
      "method": "POST",
      "endpoint": "https://7gpyuc-bt.myshopify.com/api/2024-01/graphql.json",
      "timeout": 5000,
      "rateLimit": 10,
      "parameters": [],
      "requestBody": {
        "required": true,
        "contentType": "application/json",
        "schema": {
          "type": "object",
          "properties": {
            "query": {
              "type": "string",
              "description": "GraphQL query to fetch products",
              "example": "{ products(first: 10) { edges { node { id title priceRange { minVariantPrice { amount currencyCode } } } } } }"
            }
          },
          "required": ["query"]
        }
      },
      "response": {
        "contentType": "application/json",
        "statusCode": 200,
        "schema": {
          "type": "object",
          "properties": {
            "data": {
              "type": "object",
              "properties": {
                "products": {
                  "type": "object",
                  "properties": {
                    "edges": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "node": {
                            "type": "object",
                            "properties": {
                              "id": { "type": "string" },
                              "title": { "type": "string" },
                              "priceRange": {
                                "type": "object",
                                "properties": {
                                  "minVariantPrice": {
                                    "type": "object",
                                    "properties": {
                                      "amount": { "type": "string" },
                                      "currencyCode": { "type": "string" }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "examples": [
        {
          "name": "List first 10 products",
          "request": {
            "query": "{ products(first: 10) { edges { node { id title priceRange { minVariantPrice { amount currencyCode } } } } } }"
          },
          "response": {
            "statusCode": 200,
            "sample": {
              "data": {
                "products": {
                  "edges": [
                    {
                      "node": {
                        "id": "gid://shopify/Product/123",
                        "title": "Sample Product",
                        "priceRange": {
                          "minVariantPrice": {
                            "amount": "29.99",
                            "currencyCode": "USD"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      ]
    },
    {
      "id": "get_product_detail",
      "name": "Get Product Details",
      "description": "Retrieve detailed information about a specific product",
      "category": "catalog",
      "enabled": true,
      "method": "POST",
      "endpoint": "https://7gpyuc-bt.myshopify.com/api/2024-01/graphql.json",
      "timeout": 5000,
      "requestBody": {
        "required": true,
        "contentType": "application/json",
        "schema": {
          "type": "object",
          "properties": {
            "query": {
              "type": "string",
              "description": "GraphQL query to fetch specific product by ID",
              "example": "{ product(id: \"gid://shopify/Product/123\") { id title description priceRange { minVariantPrice { amount currencyCode } } } }"
            }
          }
        }
      },
      "examples": [
        {
          "name": "Get product details",
          "request": {
            "query": "{ product(id: \"gid://shopify/Product/123\") { id title description priceRange { minVariantPrice { amount currencyCode } } } }"
          }
        }
      ]
    },
    {
      "id": "search_products",
      "name": "Search Products",
      "description": "Search products by title or keyword",
      "category": "search",
      "enabled": true,
      "method": "POST",
      "endpoint": "https://7gpyuc-bt.myshopify.com/api/2024-01/graphql.json",
      "timeout": 5000,
      "requestBody": {
        "required": true,
        "contentType": "application/json",
        "schema": {
          "type": "object",
          "properties": {
            "query": {
              "type": "string",
              "description": "GraphQL query with search filter",
              "example": "{ products(first: 10, query: \"title:shirt\") { edges { node { id title priceRange { minVariantPrice { amount currencyCode } } } } } }"
            }
          }
        }
      },
      "examples": [
        {
          "name": "Search for products",
          "request": {
            "query": "{ products(first: 10, query: \"title:shirt\") { edges { node { id title priceRange { minVariantPrice { amount currencyCode } } } } } }"
          }
        }
      ]
    }
  ],
  "constraints": {
    "operational": {
      "read_only_access": true,
      "no_checkout": true,
      "no_cart_modification": true,
      "no_account_creation": true,
      "no_order_placement": true,
      "no_personal_data_access": true,
      "no_payment_processing": true,
      "no_customer_data": true
    },
    "rateLimit": {
      "enabled": true,
      "maxRequestsPerMinute": 60,
      "maxRequestsPerHour": 3600,
      "burstSize": 10
    },
    "dataRetention": {
      "cacheable": true,
      "cacheTTLSeconds": 3600,
      "freshnessCritical": false
    }
  },
  "agentBehavior": {
    "assume_absence_is_authoritative": true,
    "do_not_infer_undocumented_intents": true,
    "do_not_guess_endpoints": true,
    "do_not_fallback_to_scraping": true,
    "do_not_fabricate_product_details": true,
    "do_not_post_process_with_ai": true,
    "respect_product_availability": true,
    "use_direct_product_urls": true,
    "provide_pricing_in_responses": true,
    "require_currency_with_prices": true,
    "report_not_guess": "If a capability is not declared, report it as unavailable rather than attempting to invent functionality"
  },
  "commerce": {
    "platform": "shopify",
    "currency": "USD",
    "taxIncluded": true,
    "shippingInfo": {
      "available": false,
      "queryable": false
    },
    "supportedQueries": [
      "list_all_products",
      "get_product_by_id",
      "search_by_keyword",
      "filter_by_price_range",
      "paginate_results"
    ]
  },
  "validation": {
    "schemaVersion": "1.0",
    "enforceAllConstraints": true,
    "allowPartialResponses": false,
    "requireExactPricing": true,
    "requireAvailabilityStatus": true
  },
  "rules": [
    "If an intent is not explicitly declared, it is not supported.",
    "Agents MUST respect all operational constraints.",
    "Prices MUST always include currency.",
    "All requests MUST use the declared GraphQL endpoint.",
    "Do not infer functionality from store UI or Shopify API documentation beyond what is declared.",
    "Do not attempt cart, checkout, or order operations.",
    "Do not scrape HTML or DOM elements.",
    "Report missing capabilities rather than inventing them.",
    "Rate limits apply globally across all intents."
  ],
  "changelog": {
    "version": "1.0",
    "releaseDate": "2026-01-02",
    "lockedDate": "2026-01-02",
    "changes": [
      "Initial stable release for IntentQL Shopify compliance study",
      "Shopify Storefront API (GraphQL) endpoint",
      "Three core intents: list_products, get_product_detail, search_products",
      "Strict operational constraints enforced"
    ],
    "breakingChanges": false,
    "nextReviewDate": "2026-02-02"
  }
}
